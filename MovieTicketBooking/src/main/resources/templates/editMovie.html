<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/>
  <title>Edit Movie</title>
  <link rel="stylesheet" th:href="@{~/css/addMovies.css}">
  <link rel="stylesheet" th:href="@{~/css/navbar.css}" >
  <link rel="stylesheet" th:href="@{~/css/footer.css}" >
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://kit.fontawesome.com/dded80a5ca.js" crossorigin="anonymous"></script>
</head>

<body>

<div th:replace="~{fragments/navbar.html :: header}"></div>

<div class="container">

  <h1>Movie Details</h1>

  <form th:method="post" th:action="@{/movie/saveMovie}" th:object="${fetchMovies}" enctype="multipart/form-data">

    <div class="left-side">

      <input class="field" type="text" hidden placeholder="UserId..."  th:field="*{movieId}" th:value="${fetchMovie.getId()}" />

      <input type="text" placeholder="MovieTitle" required th:field="*{movieName}" th:value="${fetchMovie.getMovieName()}" />

      <input type="text" placeholder="MovieDirector" required th:field="*{director}" th:value="${fetchMovie.getDirector()}" />

      <input type="text" placeholder="Cast" required th:field="*{cast}"  th:value="${fetchMovie.getCast()}"  />

      <input type="text" placeholder="Genre" required th:field="*{genre}"  th:value="${fetchMovie.getGenre()}"  />

      <input type="text" placeholder="Duration" required th:field="*{duration}"  th:value="${fetchMovie.getDuration()}"  />

      <input placeholder="No.of Shows" required th:field="*{shows}" th:value="${fetchMovie.getShows()}"   />

      <select name="category " id="category" th:field="*{category}" th:value="${fetchMovie.getCategory()}">
        <option value="Category">Category</option>
        <option value="Now Showing">Now Showing</option>
        <option value="Next Change">Next Change</option>
        <option value="Coming Soon">Coming Soon</option>
      </select>

      <input type="date" required th:field="*{releaseDate}" th:value="${fetchMovie.getReleaseDate()}"   />

      <textarea rows="10" cols="100" placeholder="MovieDescription" required th:field="*{movieDescription}" th:value="${fetchMovie.getMovieDescription()}" > </textarea>

    </div>

    <div class="moviePic">
      <img class="img" alt="moviePic" th:src="'data:image/png;base64,'+${fetchMovie.imageBase64}" id="movieImage" >
      <input id="img" hidden th:field="*{image}" accept="image/jpeg, image/png, image/jpg" type="file" onchange="previewFile()">
    </div>

    <div class="moviePic1">
      <img class="img1" alt="moviePic1" th:src="'data:image/png;base64,'+${fetchMovie.image1Base64}" id="movieImage1" >
      <input id="img1" hidden th:field="*{image1}" accept="image/jpeg, image/png, image/jpg" type="file" onchange="previewFile1()">
    </div>

    <div class="addMovieBtn">
      <a class="Btn" th:href="@{~/admin/edit/}+${fetchMovie.id}">
        <button type="submit">Save Changes</button>
      </a>
      <a class="Btn" th:href="@{~/admin/delete/}+${fetchMovie.id}">
        <button type="button">Delete Product</button>
      </a>
    </div>


  </form>
</div>
<script th:src="@{~/js/addMovie.js}"></script>
<script th:src="@{~/js/addMovie1.js}"></script>

<div th:replace="~{fragments/footer.html :: footer}"></div>
</body>

</html>
